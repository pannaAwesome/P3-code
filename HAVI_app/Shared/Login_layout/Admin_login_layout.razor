@inject NavigationManager NavigationManager

<div class="col-12 user-login">
    <div class="row justify-content-center">
        <div class="col-12 user-login-header">
            <h5>Sign in as admin:</h5>
        </div>
    </div>
    <form>
        <div class="row justify-content-center">
            <div class="col-7">
                <table class="table table-borderless">
                    <tr class="form-group">
                        <td>
                            <label>Username:</label>
                        </td>
                        <td>
                            <input class="form-control" type="text" name="admin_username" />
                        </td>
                    </tr>
                    <tr class="form-group">
                        <td>
                            <label>Password:</label>
                        </td>
                        <td>
                            <input class="form-control" type="password" name="admin_password" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-5"></div>
            <div class="col-2 justify-content-center">
                <input class="btn green-button" type="button" name="Submit" value="Sign in" @onclick="LogUsername" />
            </div>
            <div>
                <p>@_authMessage</p>
            </div>
        </div>
    </form>
</div>

@code {

    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }

    private string _authMessage;

    private async Task LogUsername()
    {
        var authState = await authenticationStateTask;
        var user = authState.User;

        if (user.Identity.IsAuthenticated)
        {
            _authMessage = $"{user.Identity.Name} is authenticated.";
            NavigationManager.NavigateTo("/overview_admin");
        }
        else
        {
            _authMessage = "The username or password is incorrect, please try again!";
        }


    }
}