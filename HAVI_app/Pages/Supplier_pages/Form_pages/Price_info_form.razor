@layout HAVI_app.Shared.Supplier_layout.Form_layout
@inject Microsoft.AspNetCore.Components.NavigationManager NavigationManager
@page "/price_info_form"

<HAVI_app.Shared.Supplier_layout.Form_header SupplierState="filled" ArticleState="filled" MeasurementState="filled" ShipmentState="filled" PriceState="active" />

<div class="row justify-content-center">
    <div class="col-10">
        <h3>Price information:</h3>
        <p class="form-header-supplier">Fill out information regarding the article price:</p>
    </div>
</div>


<div class="justify-content-center row">
    <div class="col-9">
        <form>
            <table class="table">

                <tr>
                    <td>
                        <label for="set_currency" class="required">Set currency:</label>
                    </td>
                    <td colspan="4">
                        <select class="form-control" name="set_currency" value="@SetCurrency">
                            <option disabled selected>-- select an option --</option>
                            <option>ADP</option>
                            <option>DKK</option>
                            <option>USD</option>
                        </select>
                    </td>
                    <td>
                        <HAVI_app.Shared.Shared_layout.Questionmark_top>
                            Choose your favored currency.
                        </HAVI_app.Shared.Shared_layout.Questionmark_top>

                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="purchase_price" class="required">Purchase price:</label>
                    </td>
                    <td colspan="4">
                        <input type="number" class="form-control" id="purchase_price" required value="@PurchasePrice">
                    </td>
                    <td>
                        <HAVI_app.Shared.Shared_layout.Questionmark_top>
                            Insert the price for the article you and HAVI has agreed upon
                        </HAVI_app.Shared.Shared_layout.Questionmark_top>

                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="other_cost" class="required" value="@CostRegardingArticle">Other cost regarding article?</label>
                    </td>

                    <td colspan="4">
                        <div class="text-center">
                            <input type="radio" name="organic" id="yes" value="yes" data-toggle="collapse" data-target="#hideOrganic:not(.show)" aria-expanded="false" aria-controls="hideOrganic">
                            <label for="yes">Yes</label>
                            &nbsp;
                            <input type="radio" name="organic" id="no" value="no" data-toggle="collapse" data-target="#hideOrganic.show" aria-expanded="false" aria-controls="hideOrganic">
                            <label for="no">No</label>
                        </div>
                    </td>
                    <td>
                        <HAVI_app.Shared.Shared_layout.Questionmark_top>
                            If theres any other information about the article regarding price, pick yes.
                        </HAVI_app.Shared.Shared_layout.Questionmark_top>

                    </td>
                </tr>

                <tr class="collapse" id="hideOrganic">
                    <td>
                        <label for="select-afgift">Inform cost type:</label>
                        <hr />
                        <label for="amountInDKK">Total amount in DKK</label>
                    </td>

                    <td>
                        <select class="form-control" name="select-afgift" value="@CostType">
                            <option disabled selected>-- select an option --</option>
                            <option>Chokoladeafgift</option>
                            <option>Milijøafgift</option>
                            <option>En anden afgift</option>
                        </select>
                        <hr />
                        <input type="number" class="form-control" id="amountInDKK" required value="@TotalAmount">
                    </td>

                    <td> &#10133; </td>
                    <td> &#10134;</td>
                </tr>

                <tr class="collapse" id="hideOrganic">
                    <td colspan="3"></td>
                    <td colspan="2">
                        <label for="totalAmount">Total amount in DKK</label>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                    </td>
                </tr>

            </table>

            <div class="row justify-content-center">
                <div class="text-right col-6">
                    <input type="submit" class="btn cancel-button button-size" value="Back" @onclick="OnPostBack" />
                </div>
                <div class="text-left col-6">
                    <input type="submit" class="btn green-button button-size" value="Next" @onclick="OnPostForward" />
                </div>
            </div>
        </form>
    </div>
</div>

@code {
    [Parameter]
    public string SetCurrency { get; set; }

    [Parameter]
    public int PurchasePrice { get; set; }

    [Parameter]
    public string CostRegardingArticle { get; set; }

    [Parameter]
    public string CostType { get; set; }

    [Parameter]
    public int TotalAmount { get; set; }
}

@code{
    public void OnPostForward()
    {
        NavigationManager.NavigateTo($"/confirm_details", true);
    }

    public void OnPostBack()
    {
        NavigationManager.NavigateTo($"/shipment_info_form", true);
    }
}
